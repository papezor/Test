var graphAll;function loadAssets(){ loadingCustom(0);  var e; var res; jQuery.getJSON(locData + "Avanzamento.json?nc="+Math.random(),				function(res){			        console.log(res);					checkConfig(res);				}).error(function() {			erroreGenerico('ERRORE AVANZAMENTO JSON\nRICARICARE LA PAGINA CON IL PULSANTE IN ALTO A DESTRA');	});/* fINE */}function checkConfig(result){/* AJAX PER CROSSDOMAINjQuery.ajax({     url:"http://www.elezioni.comune.roma.it/elezioni/2013/m/private/data/"+name+tipo+'.json',     dataType: 'jsonp', // Notice! JSONP <-- P (lowercase)     callback: 'readResult',     success:function(json){ readResult(json)         // do stuff with json (in this case an array)     }, error:function(){}});*//* GET JSON PER LOCALE */var cfg;jQuery.getJSON(locData+"config.json?nc="+Math.random(),				{},				function(cfg){					    statoAttuale = cfg[0].descStato;						console.log(statoAttuale);						readResult(result);					}				).error(function() {		erroreGenerico('ERRORE CONFIG JSON\nRICARICARE LA PAGINA CON IL PULSANTE IN ALTO A DESTRA');	});/* fINE */}function readResult(e){  if (statusTimer == false){startTimer();}else{resetTimer();}    for(var k in e) {     var title = e[k]['title'];     if (!dataSet[title])dataSet[title] = [];	 dataSet[title]['totale'] = e[k]['totale'];   }    renderAvanzamento();   }function renderAvanzamento() {     var dati = [];  for(var x in dataSet) {    dati.push([x,dataSet[x]['totale']]);  }   //console.log(dati);	graphAll = jQuery.jqplot('graphAvanzamento', [dati], {	seriesDefaults: {			renderer:jQuery.jqplot.BarRenderer,		},	series: [{color: totMun}],						axesDefaults: {						tickRenderer: $.jqplot.CanvasAxisTickRenderer ,						tickOptions: {							angle: -90,							fontSize: '10pt'							}					},					axes: {						xaxis: {														renderer: $.jqplot.CategoryAxisRenderer,							angle: -30,							fontSize: '10pt',				     							tickOptions:{showGridline: false,textColor: "#fff"}						},						// yaxis: {angle:0}						yaxis: {						        						        tickOptions:{textColor: "#fff"},								ticks:dataPercY						}						// yaxis: {renderer: $.jqplot.CategoryAxisRenderer}					},					grid: {background:'transparent', borderColor: '#dedede'} });				    graphAll.replot();    loadingCustom(1);}function addSecTimer(){if (timer == refresh){setTimeout("addSecTimer()",1000);loadData();}else{/*console.log(timer);*/timer++;setTimeout("addSecTimer()",1000);}}function resetTimer(){timer = 0;}function stopTimer(){timer = -200000000;}function startTimer(){statusTimer = true; resetTimer();setTimeout("addSecTimer()",2000);}function loadPage(page,n,t){jQuery('#nav-panel').panel('close');window.location.href = page + '?n='+n+'&t='+t;}function createDivGraph(){if (!document.getElementById("homeGraph")){jQuery(".ui-content").append('<div id="homeGraph" class="ui-corner-all ui-body-a" style="width:'+(jQuery(document).width()-9)+'px;height:320px; bottom:-285px;position:absolute;left:3px; right:3px;z-index:100" data-theme="a" ></div>');} return '#homeGraph';}function closeAllPanel(str){statusGraph = true; slideGraph(); jQuery('#nav-panel').panel('close'); jQuery('#graphPerc').panel('close');jQuery('#'+str).panel('open');}